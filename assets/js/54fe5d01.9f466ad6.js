"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2335],{3905:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>u});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=r.createContext({}),d=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},p=function(e){var n=d(e.components);return r.createElement(s.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),f=d(t),u=o,m=f["".concat(s,".").concat(u)]||f[u]||c[u]||i;return t?r.createElement(m,a(a({ref:n},p),{},{components:t})):r.createElement(m,a({ref:n},p))}));function u(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=f;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var d=2;d<i;d++)a[d]=t[d];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},8260:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var r=t(7462),o=(t(7294),t(3905));const i={slug:"November30",title:"one day",authors:{name:"potato",title:"informal",image_url:"https://avatars.githubusercontent.com/u/85016442?v=4"},tags:["\u7b14\u8bb0","\u707c\u707c\u5176\u534e"]},a=void 0,l={permalink:"/blog/November30",source:"@site/blog/2022-11-30-studytwo.md",title:"one day",description:"Base64 study",date:"2022-11-30T00:00:00.000Z",formattedDate:"2022\u5e7411\u670830\u65e5",tags:[{label:"\u7b14\u8bb0",permalink:"/blog/tags/\u7b14\u8bb0"},{label:"\u707c\u707c\u5176\u534e",permalink:"/blog/tags/\u707c\u707c\u5176\u534e"}],readingTime:3.665,hasTruncateMarker:!1,authors:[{name:"potato",title:"informal",image_url:"https://avatars.githubusercontent.com/u/85016442?v=4",imageURL:"https://avatars.githubusercontent.com/u/85016442?v=4"}],frontMatter:{slug:"November30",title:"one day",authors:{name:"potato",title:"informal",image_url:"https://avatars.githubusercontent.com/u/85016442?v=4",imageURL:"https://avatars.githubusercontent.com/u/85016442?v=4"},tags:["\u7b14\u8bb0","\u707c\u707c\u5176\u534e"]},prevItem:{title:"\u5341\u4e8c\u6708\u7b2c\u4e00\u5929",permalink:"/blog/December01"},nextItem:{title:"cancanFailureCase",permalink:"/blog/November29"}},s={authorsImageUrls:[void 0]},d=[{value:"Base64 study",id:"base64-study",level:3}],p={toc:d};function c(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h3",{id:"base64-study"},"Base64 study"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    function getBase64(file:any){\n        return new Promise((resolve,reject)=>{\n            // FileReader\u7c7b\u5c31\u662f\u7528\u6765\u8bfb\u6587\u4ef6\u7684\n            const reader = new FileReader()\n            // \u5f00\u59cb\u8bfb\u6587\u4ef6\n            // readAsDataURL: dataurl\u5b83\u7684\u672c\u8d28\u5c31\u662f\u56fe\u7247\u7684\u4e8c\u8fdb\u5236\u6570\u636e\uff0c\u8fdb\u884cbase64\u52a0\u5bc6\u540e\u5f62\u6210\u7684\u4e00\u4e2a\u5b57\u7b26\u4e32\n            reader.readAsDataURL(file)\n            // \u6210\u529f\u548c\u5931\u8d25\u8fd4\u56de\u5bf9\u5e94\u7684\u4fe1\u606f\uff0c reader.result\u4e00\u4e2abase64,\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\n            reader.onload = () => resolve(reader.result)\n            // \u5931\u8d25\u8fd4\u56de\u5931\u8d25\u7684\u4fe1\u606f\n            reader.onerror = (error) =>reject(error)\n        })\n    }\n\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    //tsx\u5c01\u88c5\u4e00\u4e2a\u53ef\u62d6\u62fd\u7684\u5de6\u4e2d\u53f3\u5e03\u5c40 flex \u7684 \u4e09\u4e2a\u53c2\u6570\uff1aflex-grow\u3001flex-shrink\u3001flex-basis\n   import {defineComponent,ref,onMounted,nextTick,reactive,computed} from 'vue'\n   import { useStore } from 'vuex'\n   export default defineComponent({\n    name: 'ResizeCom',\n    props:{\n        leftWidth:{\n            default: 260,\n            type: Number\n        },\n        rightWidth: {\n            default: 250,\n            type:Number\n        },\n        leftClass: {\n            default: '',\n            type: String\n        },\n        centerClass: {\n            default: '',\n            type: String\n        },\n        rightClass: {\n            default: '',\n            type: String\n        },\n        leftStyle: {\n            default: '',\n            type:String\n        },\n        bg: {\n            default: false,\n            type: Boolean\n        }\n    },\n    emits:['update:leftWidth','update:rightWidth'],\n    setup(props, { slots }){\n        const store = useStore()\n        const rw = ref(JSON.parse(JSON.stringify(props.rightWidth)))\n        const doResize = (line:string,box:string):void => {\n            const lineDom: any = document.querySelector(line)\n            const boxDom: any = document.querySelector(box)\n            if (!boxDom) return\n            lineDom.onmousedown = (e:any):boolean => {\n                const start = e.clientX\n                const itemWidth = boxDom.clientWidth\n                document.onmousemove = (even:any):void => {\n                    const end = even.clientX\n                    if(box === '.resize-left-box') {\n                        fold['leftWidth'] = end - start + itemWidth\n                    }\n                    if(box === '.resizeBox-right') {\n                        rw.value = itemWidth + (start - end)\n                    }\n                    //\u8fd9\u4e2a\u5e94\u8be5\u662f\u753b\u5e03\u7684\n                    if(store.state.experiment.expGraph) {\n                        store.state.experiment.expGraph.resizeGraph()\n                    }\n                }\n                document.onmouseup = ():void => {\n                    document.onmousemove = null\n                    document.onmouseup = null\n                    if (lineDom.releaseCapture){\n                        lineDom.releaseCapture()\n                    }\n                    if (lineDom.setCapture) {\n                        lineDom.setCapture()\n                    }\n                    return false\n                }\n            }\n        }\n        const resetWidth = () => {\n            doResize('.left', '.resize-left-box')\n            doResize('.right-line', '.resizeBox-right')\n        }\n        // \u5224\u65ad\u662f\u5426\u6709\u6536\u56de\u7684left\n        const isExpand = computed(()=>{\n            const notExpand = Object.keys(expandObj).filter((item:any)=>{\n                return !expandObj[item]\n            })\n            return !!notExpand.length\n        })\n        const expandObj: any = reactive({\n            expand:true\n        })\n        const fold: any = reactive({\n            leftWidth: ref(JSON.parse(JSON.stringify(props.leftWidth))),\n            left1Width: ref(JSON.parse(JSON.stringify(props.leftWidth)))\n        })\n\n        const exPandEvent = (v:boolean) => {\n            expandObj['leftWidth'] = v ? props.leftWidth: 0\n            expandObj['expand'] = v\n        }\n        onMounted(()=>{\n            expandObj['expand'] = true\n            nextTick(resetWidth)\n        })\n\n        return () => {\n            return (\n                <div class=\"resizeBox\">\n                    <div class=\"expand-box\" v-show={isExpand.value}>\n                        <div v-show={!expandObj.expand} class=\"expandBtn\" style={{top:0}} onClick={()=>{exPandEvent(true)}}>\n                            <div class=\"top-triangle\"></div>\n                            <div class=\"text\">\n                                <span>{props.leftTitle}</span>\n                                <span class=\"m-t-5 el-icon-d-arrow-right\"></span>\n                            </div>\n                            <div class=\"bottom-triangle\"></div>\n                        </div>\n                    </div>\n                    <div class=\"resize-left-common resize-left-box\" style={{\n                        flex:`0 0 ${expandObj['expand'] ? fold['leftWidth']: 0} px`,\n                        marginLeft:!expandObj['expand'] || !isExpand.value ? 0 : '10px'\n                    }}>\n                        <div v-show={expandObj['expand']} class={['leftContent', props.bg? 'backg': 'default']}>\n                            <div class=\"custom-tree-box default-tree-box\" style={{height: '100%',overflow:'auto'}}>\n                                {slots.left ? slots.left(): ''}\n                            </div>\n                        </div>\n                        <div v-show={expandObj['expand']} class=\"left-line left\">\n                    </div>\n                    <div class={['resizeBox-center',props.centerClass]}\n                        style={props.centerStyle}\n                    >\n                        {slots.center ? slots.center() : ''}\n                    </div>\n                    {\n                        slots.right ? (\n                            <div class=\"resizeBox-right\">\n                                {slots.right()}\n                                <div class=\"right-line\" />\n                            </div>\n                        ):('')\n                    }\n                </div>\n            )\n        }\n    }\n   })\n\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"    .resizeBox {\n        width: 100%;\n        height: 100%;\n        display: flex;\n        .expand-box {\n            height: 100%;\n            position: relative;\n            flex: 0 0 48px;\n        }\n        .resizeBox-right {\n            position:relative;\n        }\n        .resize-left-common,\n        .resizeBox-right{\n            overflow: hidden;\n            .left-line,\n            .right-line {\n                width:0;\n                height: 98%;\n                position:absolute;\n                top:50%;\n                transform:translateY(-50%);\n                z-index:10;\n                cursor:col-resize;\n                border-left:1px solid transparent;\n                border-right:1px solid transparent\n            }\n            .left-line {\n                right:0;\n            }\n            .right-line{\n                left:0;\n            }\n        }\n        .expandBtn{\n            width: 38px;\n            text-align:center;\n            cursor:pointer;\n            position:absolute;\n            top:20px;\n            left:0;\n            background:transparent;\n            z-index:1;\n            .top-triangle{\n                width:0px;\n                height:0px;\n                border-top:24px solid transparent;\n                border-right: 38px solid transparent;\n                border-bottom:24px solid rgb(49,137,203);\n            }\n            .text {\n                background:rgb(49,137,203);\n                color:#fff;\n                display:flex;\n                flex-direction:column;\n                align-items:center;\n                //writing-mode \u5c5e\u6027\u5b9a\u4e49\u4e86\u6587\u672c\u5728\u6c34\u5e73\u6216\u5782\u76f4\u65b9\u5411\u4e0a\u5982\u4f55\u6392\u5e03\u3002\n                //vertical-lr\uff1a\u5782\u76f4\u65b9\u5411\u5185\u5185\u5bb9\u4ece\u4e0a\u5230\u4e0b\uff0c\u6c34\u5e73\u65b9\u5411\u4ece\u5de6\u5230\u53f3\n                span {\n                    writing-mode:vertical-lr;\n                }\n            }\n            .bottom-triangle {\n                width:0px;\n                height:0px;\n                border-top:24px solid rgb(49,137,203);\n                border-right:38px solid transparent;\n                border-bottom:24px solid transparent;\n            }\n        }\n        .resize-left-common{\n            position:relative;\n            .leftContent{\n                width:100%;\n                height:100%;\n                display:flex;\n                flex-direction:column;\n                overflow:hidden;\n                border:1px solid #e5e5e5;\n                .head{\n                    display:flex;\n                    align-items:center;\n                    justify-content:space-between;\n                    .icon{\n                        cursor:pointer;\n                    }\n                    padding:0 20px 0 0;\n                }\n                &.default{\n                    .head{\n                        height: 36px;\n                        border-bottom: #e5e5e5 1px solid\n                        .trapezoid {\n                            height: 100%;\n                            width: 100%;\n                            display:flex;\n                            overflow:hidden;\n                            .head-title{\n                                height:36px;\n                                background-color:rgba(49,137,203,1);\n                                display:flex;\n                                align-items:center;\n                                padding:0 20px;\n                                width:fit-content;\n                                font-weight:500\n                                font-size:18px;\n                                color:#fff\n                            }\n                            .triangle{\n                                width:0px;\n                                height:0px;\n                                border-top:36px solid rgba(49,137,203,1);\n                                border-right:18px solid #fff;\n                            }\n                        }\n                    }\n                }\n                &.backg {\n                    background:rgb(49,137,203) url('');\n                    .head{\n                        height:54px;\n                        color:#fff;\n                        padding:0 20px;\n                        .head-title{\n                            border-left:4px solid #fff;\n                            padding-left:5px;\n                            font-size:18px;\n                        }\n                    }\n                }\n                .default-tree-box{\n                    height: 100%\n                }\n            }\n        }\n        .resizeBox-right{\n            margin:10px;\n            margin-left:0;\n        }\n        .resizeBox-center{\n            width:100%;\n            overflow:hidden;\n            margin:10px;\n        }\n        .nest-resize-box{\n            margin:0 0 0  10px;\n        }\n    }\n")))}c.isMDXComponent=!0}}]);