<!doctype html>
<html lang="zh" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Blog | 主页</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lhhtml5.github.io/blog"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" property="og:title" content="Blog | 主页"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lhhtml5.github.io/blog"><link data-rh="true" rel="alternate" href="https://lhhtml5.github.io/blog" hreflang="zh"><link data-rh="true" rel="alternate" href="https://lhhtml5.github.io/blog" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="主页 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="主页 Atom Feed"><link rel="stylesheet" href="/assets/css/styles.958644b8.css">
<link rel="preload" href="/assets/js/runtime~main.d33e12a5.js" as="script">
<link rel="preload" href="/assets/js/main.034e9962.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">我的导航</b></a><a class="navbar__item navbar__link" href="/docs/intro">指南</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="最近博文导航"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/April4"></a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/AstroZero">doexercise/asterozero</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/February28"></a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/review">review</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/see">See</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/April4"></a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-04T00:00:00.000Z" itemprop="datePublished">2023年4月4日</time> · <!-- -->阅读需 4 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //设计一个任务队列，要求分别在1，3，4秒后打印出“1”，“2”，“3”</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    class Queue{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        constructor(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.queue = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.time = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        addTask(task,t){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.time += t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.queue.push([task,this.time])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        start(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.queue.forEach(item=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                setTimeout(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    item[0]()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },item[1])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //随机生成一个颜色</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const getRandomColor = () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const value = () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return parseInt(Math.random() * 255)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return `rgb(${value()},${value()},${value()})`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Js实现一个发布订阅模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    class Center {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        eventMap = {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        on(event,fun){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.#add(event,fn,&#x27;on&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        once(event,fun){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.#add(event,fun,&#x27;once&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        #add(event,fun,type){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(typeof fun !== &#x27;function&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new TypeError(`$(fun) is not a function`)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(!event) throw new Error(`need type`)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(!this.eventMap[event]){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.eventMap[event] = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            this.eventMap[event].push({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                event:fun,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:type,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit(event, ...args){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(this.eventMap[event]){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.eventMap[event] = this.eventMap[event].filter((curr)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    curr.data(...args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return curr.type != &#x27;once&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        remove(event,fun){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(this.eventMap[event]){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.eventMap[event] = this.eventMap[event].filter((curr)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return curr.event !== fun</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //将数字12345678转化成RMB形式：12，345，678</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function RMB(str){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let arr = str.split(&quot;&quot;).reverse();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let res = [];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(let i=0;i&lt;arr.length;i++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            res.push(arr[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if((i + 1) % 3 === 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                res.push(&quot;,&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return res.reverse().join(&quot;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    console.log(RMB(&quot;12345678&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //数组转tree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const getChildren = (data,result,pid) =&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(const item of data){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(item.pid === pid){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                const newItem= {...item.children:[]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                result.push(newItem)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                getChildren(data,result,item.id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const arrayToTree = (data,pid)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const result = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        getChildren(data,pid,result)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //实现instanceof</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    /**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        1.leftValue代表实例对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        2.rightValue代表构造函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        3.利用typeof方法，判读输入的leftValue是否为对象，如果不是，则返回false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        4.遍历leftValue的原型链，直到找到rightValue的prototype,如果查找失败的话返回false,反之，返回true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     */</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function my_instanceof(leftValue,rightValue){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(typeof leftValue !== &#x27;object&#x27; || leftValue === null) return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let rightProto = rightValue.prototype,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            leftProto = leftValue.__proto__;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            while(true){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(leftProto === null){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(leftProto === rightProto){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                leftProto = leftProto.__proto__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //call方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Function.prototype.myCall = function(context){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //判断是否是function 类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(typeof context !== &#x27;function&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            throw new Error(&#x27;只有function才可以调用call方法&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //处理默认上下文对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context = context || window</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 处理参数，截取除第一个参数外的所有参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const argu = [...argument].slice(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //处理调用方法的this指向</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        context.fn = this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //获取结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const result = context.fn(...argu)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //删除添加方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        delete context.fn</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //返回结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return result</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //实现一个函数，判断一个字符串是否是回文字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function isPalindrome(str){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const arr = str.split(&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const reversed = arr.reverse().join(&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return str === reversed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //深拷贝</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deepClone(obj){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const objClone = Array.isArray(obj) ? [] : {};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(obj &amp;&amp; typeof obj === &#x27;object&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for(let key in obj){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(obj.hasOwnProperty(key)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(obj[key] &amp;&amp; typeof obj[key] === &#x27;object&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        objClone[key] = this.deepClone(obj[key])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        objClone[key] = obj[key]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return objClone</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //数组最大差值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let arr = [ 23,4,5,30,4,5,7,7,79,-4]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const Dvalue = (arr) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let min = arr[0],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        max = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        arr.forEach((value)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(value &lt; min) min = value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(value &gt; max) max = value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return max - min</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //实现斐波那契数列</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function fibonacci(n){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(n &lt;= 1){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return fibonacci(n - 1) + fibonacci(n - 2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //js如何实现插入排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function insertionSort(arr){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var len = arr.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var preIndex,current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(var i = 1;i&lt;len;i++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            preIndex = i - 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            current = arr[i];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            while(preIndex &gt;= 0 &amp;&amp; arr[preIndex] &gt; current){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                arr[preIndex + 1] = arr[preIndex]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            arr[preIndex + 1] = current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return arr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //实现一个new</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function objectFactory(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //创建一个新对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let obj = new Object()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //将构造函数的作用域赋给新对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let Constructor = [].shift.call(arguments)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        obj.__proto__ = Constructor.prototype</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //执行构造函数中的代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var ret = Constructor.apply(obj,arguments)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //返回新对象</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return typeof ret === &#x27;object&#x27;?ret:obj</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/code">code</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/life-is-meaningless-without-a-purpose">Life is meaningless without a purpose</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/AstroZero">doexercise/asterozero</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-22T07:05:34.272Z" itemprop="datePublished">2023年3月22日</time> · <!-- -->阅读需 2 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//AstroZero 平台的脚本引擎采用 TypeScript 语言；脚本执行时，TypeScript 语言会被翻译成 JavaScript 语言，由 JavaScript 引擎执行。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Here&#x27;s your code.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//导入该脚本所依赖的标准库文件，decimal和context是系统预置的标准库。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import * as db from &#x27;db&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import * as context from &#x27;context&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// import * as case1 from &#x27;./luhan__case1&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// import * as case2 from &#x27;./luhan__case2&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@useObject([&#x27;tangmh__FaultList__CST&#x27;])  //取表缺陷管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@useObject([&#x27;tangmh__Alarmethod__CST&#x27;]) // 取告警算法表</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@useObject([&#x27;tangmh__AlarmInfo__CST&#x27;]) //告警通知信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@action.object({ type: &#x27;param&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class Input { }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@action.object({ type: &#x27;param&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class Output {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @action.param({ type: &#x27;any&#x27;, isCollection: true, label: &quot;object&quot; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resource: object[];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@action.object({ type: &#x27;method&#x27; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export class getFileList {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @action.method({ input: &quot;Input&quot;, output: &quot;Output&quot;, label: &quot;getFileList&quot; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    getFileList(input: Input): Output {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let outResult = new Output()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let error = new Error();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        try {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let alarmethodList = db.object(&#x27;tangmh__Alarmethod__CST&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let s = db.object(&#x27;tangmh__FaultList__CST&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let alarminfo = db.object(&#x27;tangmh__AlarmInfo__CST&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //查询字段</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let option = {};</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //查询条件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let condition = {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //调用查询条件接口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let falutList = s.queryByCondition(condition as any, option) //缺陷管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let alerList = alarmethodList.queryByCondition(condition, condition) //告警算法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for (let item of falutList) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                let falutName = item.tangmh__relaEP__CST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                let finObjet = alerList.find((item: any, index: number) =&gt; item.tangmh__EPTYPE__CST == falutName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if (finObjet) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    item.tangmh__AlarmFinish__CST = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // let updateFlag = [falutList[0]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // s.batchUpdate(updateFlag);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    // case1.getcase()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    s.update(item.id, item);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    let info = { &quot;tangmh__alarmName__CST&quot;: finObjet.tangmh__ALARMMETHOD__CST, &quot;tangmh__alarmCont__CST&quot;: item.tangmh__Fdesc__CST, &quot;tangmh__Field1__CST&quot;: item.tangmh__relaEP__CST, &quot;tangmh__alarmTime__CST&quot;: new Date() }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    alarminfo.insert(info)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //     error.name = &quot;出错&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //     error.message = &quot;未找到告警算法&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //     throw error;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return outResult;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } catch (error) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            console.log(error.name, error.message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            context.setError(error.name, error.message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/astro-zero">AstroZero</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/华为云平台">华为云平台</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/February28"></a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-28T00:00:00.000Z" itemprop="datePublished">2023年2月28日</time> · <!-- -->阅读需 6 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">计算机中,信息的最小单位是位</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">安装windows微型计算机，其内存容量不能超过4MB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">汇编语言是一种依赖于计算机的低级程序设计语言</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">一般将电子计算机的发展历程划分为四个时代，其划分的主要依据是计算机的构成元件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">格式的文件可以使用WinRAR进行解压缩为zip</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">计算机病毒最主要的特征是传染性和破坏性</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在word 2010中，“标尺”命令位于垂直滚动条</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">第一代计算机体积大、耗电多、性能低，其主要原因是受制于元器件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在计算机领域中信息是一种连续变化的模拟量</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在Wor的编辑状态，可以显示页面四角的视图方式页面视图方式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在Exel2010主界面窗口中不包含输出选项</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">在Word中，用快捷键退出Word的最快方法是Alt+F4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">计算机上安装拨号网络的目的是为了能够以拨号的方式进入Internet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">世界上第一台电子数字计算机诞生于1946年</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">第二代电子计算机采用晶体管作为主要的电子元器件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">微型计算机的微处理器芯片上集成了控制器和运算器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">通常所说的“裸机”是指计算机仅有硬件系统</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">个人计算机（P）必备的外部设备是显示器和键盘</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">第三代计算机的运算速度大约是每秒100万次</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    My Most Favorite TV Program</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    The News Report has always been my favorite TV program.Almost everyday I turn on the TV at 6:30p.m.and await for the news program.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    This has become a part of my life.Because of this fast pace,news programs can contain much information in a short time.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    Life is meaningless without a purpose. //没有目标的生活是毫无意义的</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Many students who have problems won&#x27;t go for advice or help. //许多有问题的学生不去寻找建议或帮助</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Open the window and let the fresh air in. //打开窗户让新鲜空气进来</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    The couple enjoyed their holiday very much. //这对夫妻假期过的很愉快</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Fires may do more damage than the earthquakes. //火灾可能比地震造成更大的破坏</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Mr.Lin assigned too much homework today. //今天林老师留了很多作业</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    You should look around before you cross the street. //过马路前，你应该四处看看</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Do you think you can do it by yourself? //你认为你自己能做这件事吗？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    All that glitters is not gold. //不是所有的金子都会发光</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    I knocked on his door but nobody came to answer it. //我敲了他的门，但没人来开门</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Talking for a long time makes me tired. //长时间的交谈让我很疲惫</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    The students are encouraged by their teacher to do more listening,reading and writing. //老师鼓励学生多听，多读，多写</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    This is the worst hospital i have ever seen. //这是我见过最差的医院</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    What did they say they had done? //他们说他们干了什么</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Not all Americans are interested in sports,of course. //当然，不是所有的美国人都对体育感兴趣</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    How long will it take us to get there？ //我们多久能到那儿？</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    This pair of shoes cost me 260 Yuan. //这双鞋花了我260元</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    We must take some measures to control the pollution. //我们必须采取措施来控制污染</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    He has been learning English for years. // 多年来他一直在学习英语</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    We all like her because she&#x27;s very helpful. // 我们都喜欢他因为他非常乐于助人</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    I slept soundly all night. //我整夜睡的很熟</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    For example,they use both sides of a piece of paper instead of just one. //例如，他们双面使用纸而不是单面使用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    I think our dream will become true. //我认为我们的梦想将成为现实</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Air is all around us. //空气围绕在我们周围</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    He has been learning English for years. // 多年来，他一直在学英语。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    Vue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Vue使用了基于HTML的模板语法,允许开发者声明式的将DOM绑定至底层Vue实例的数据。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Vue的核心是一个允许你采用简洁的模板语法来声明式的将数据渲染进DOM的系统。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    结合响应式系统，在应用状态改变时，  Vue能够智能地计算出重新渲染组件的最小代价并应用到DOM操作上。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    数据绑定最常见的形式就是使用{{...}}(双大括号)的文本差值。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    组件(Component)是Vue.js最强大的功能之一。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    组件可以扩展HTML元素，封装可以重用的代码。</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/笔记">笔记</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/life-is-meaningless-without-a-purpose">Life is meaningless without a purpose</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/review">review</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-21T08:26:14.325Z" itemprop="datePublished">2023年2月21日</time> · <!-- -->阅读需 3 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// js</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> js数据类型：string,number,boolean,undefined,null,symbol,bigint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             object:Array Function Date Math</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">数据类型判断 typeof   null 不能判断</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             instanceof 可以判断复杂类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             Object.prototype.toString.call()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> */</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    import { defineComponent,onBeforeMount,ref,watch,reactive,getCurrentInstance} from &#x27;vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    import {QuestionFilled,Setting}from &#x27;@element-plus/icons-vue&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    export default defineComponent({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        name:&#x27;Afrom&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        props:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            inline:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Boolean,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            size:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:String,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:&#x27;,&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            jobject:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Object,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                required:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return {value:[]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            defValue:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Object,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                required:true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return {value:[]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            labelWidth:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:String,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:&#x27;125px&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            isLabelWidth:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Boolean,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            itemWidth:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:String,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:&#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            disable:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Array,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            isShow:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Array,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            hasCheckParam:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Boolean,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            selectParam:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Array,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            isShowNote:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Boolean,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:() =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            isDisabledAll:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:Boolean,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                default:()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emits:[&#x27;inputChange&#x27;,&#x27;focus&#x27;,&#x27;buttonClick&#x27;,&#x27;selectSetting&#x27;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        setup(props,{emit,attrs}){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const uSet = props</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const localJobject = reactive(uSet.jobject)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let jvalue:any = reactive({})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const jrules:any = {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const jkey = ref(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            watch(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                uSet.jobject,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                ()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    jkey.value++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    initCR()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                { deep:true }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const restJRules = ():void=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                for(let i=0;i&lt;localJobject.value.length;i += 1){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    const element:any = localJobject.value[i]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(element.type == &#x27;checkbox&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        jvalue[element.prop] = reactive([])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(element.rules &amp;&amp; !(uSet.isShow &amp;&amp; uSet.isShow.includes(element.prop))){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        jrules[element.prop] = element.rules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        jrules[element.prop] = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const initCR = () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(uSet.defValue){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    jvalue = uSet.defValue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                resetJRules()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                for(let i=0;i&lt;localJobjevt.value.length; i += 1){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    const element:any = localJobject.value[i]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(element.type == &#x27;checkbox&#x27; &amp;&amp; uSet.defValue[element.prop as string].length == 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        jvalue[element.prop]=ref([])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(element.rules &amp;&amp; !(uSet.isShow &amp;&amp; uSet.isShow.includes(element.prop))){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        jrules[element.prop]= element.rules</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            onBeforeMount(initCR)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const handleChange = (ftype:string,index:number,data:any,type:string) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                emit(&#x27;inputChange&#x27;,index,data,type,ftype)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const focusMethod = (ftype:string,index:number,data:any,type:string) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                emit(&#x27;focus&#x27;,index,data,type,ftype)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const selectParams = reactive({list:uSet.selectParm as string[]})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const instance = getCurrentInstance()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(instance){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                Object.assign(instance.proxy,{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    async getValue():Promise&lt;any&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        const t:any = this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        const rValue = await t.$refs.aform.validate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        if(rValue){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            return uSet.hasCheckParam?{value:jvalue,checkList:selectParams.list}:jvalue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        return null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const selectSetting = (prop:string)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                emit(&#x27;selectSetting&#x27;,prop)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const changeCheckboxGroup = (list:any)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                selectParams.list = list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return () =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;el-form inline={uSet.inline} size={uSet.size} label-width={uSet.isLabelWidth?uSet.labelWidth:&#x27;&#x27;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    model={jvalue}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    rules={jrules}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    ref=&quot;aform&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    key={jkey}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        localJobject.value.map(($val:any,$index:number)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                &lt;el-form-item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    label={$val.label}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    prop={$val.prop}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    key={$index}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    class=&quot;aform&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    v-show={!(uSet.isShow &amp;&amp; uSet.isShow.includes($val.prop))}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    v-slots={</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        uSet.hasCheckParam?{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            label:()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &lt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &amp;nbsp;&amp;nbsp;&lt;span&gt;{$val.label}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &lt;/span&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &lt;el-checkbox-group&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &lt;el-checkbox label={$val.prop}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    class=&quot;checkbox-span&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &gt;&lt;/el-checkbox&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &lt;/el-checkbox-group&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &lt;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        } : {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                {(():any=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    if($val.type == &#x27;number&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            &lt;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                &lt;el-input-number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 style={{width:$val.width ? $val.width : uSet.itemWidth}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 v-model={jvalue[$val.prop]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 min={$val.min}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 placeholder={$val.placeholder?$val.placeholder?$val.placeholder:`请输入${$val.label}`}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 disabled={uSet.isDisabledAll || ($val.disable &amp;&amp; uSet.disable.includes($val.disable))}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 onChange={()=&gt;handleChange($val.type,$index,jvalue[$val.prop],$val.prop)}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                 controls-position=&quot;right&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                &gt;&lt;/el-input-number&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                &lt;span style=&quot;margin-left:10px&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &lt;el-tooltip content=&quot;0s为不采样，不补数&quot; placement=&quot;top&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                        &lt;el-icon&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                        &lt;/el-icon&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                    &lt;/el-tooltip&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                &lt;/span&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            &lt;/&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    if(!$val.type || $val.type == &#x27;text&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        return (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            &lt;el-input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            style={{width:$val.width ? $val.width:uSet.itemWidth}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            v-model={jvalue[$val.prop]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            placeholder={</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                $val.placeholder?$val.placeholder:`请输入${$val.label}`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            disabled={uSet.isDisabledAll || ($val.disable &amp;&amp; uSet.disable.includes($val.disable))}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            onChange={()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                handleChange($val.type,$index,jvalue[$val.prop],$val.prop</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            onFocus={()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                                $val.focusM?focusMethod($val.type,$index.jvalue[$val.prop],$val.prop):&#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            }}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            maxlength={$val.maxlength?$val.maxlength:null}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            auto-complete=&quot;off&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            show-word-limit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            &lt;/el-input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    if($val.type == &#x27;password&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                        return (&lt;el-input&gt;&lt;/el-input&gt;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                })()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                &lt;/el-from-item&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &lt;/el-form&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        data(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return {jvalue:{}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/go-over">go over</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/219046">219046</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/see">See</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-15T01:18:36.236Z" itemprop="datePublished">2023年2月15日</time> · <!-- -->阅读需 3 分钟</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/85016442?v=4" alt="potato"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">potato</span></div><small class="avatar__subtitle" itemprop="description">study one day</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//导出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">handleExport(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(this.dataTable.data.length == 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return this.$message({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            message:&#x27;暂无导出数据!&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type:&#x27;warning&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.$http.post(xxxx,data).then((res)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const resData = res.data.item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(resData == null || resData == undefined || resData == &#x27;&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            alert(error)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let id = res.data.item</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let type = &#x27;xls&#x27;  //这里可以改成xlsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let fileName = &#x27;xxxxxxx&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //COMMON_API_PATH+&#x27;/commonc/excelDownload/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        window.open(xxx+&#x27;xxxxx&#x27;+id+&#x27;/&#x27;+type+&#x27;/&#x27;+fileName)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //uploadFile 可以解析xls文件然后判断</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uploadFile(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const reader = new FileReader()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        reader.readAsArrayBuffer(files) //获取到文件进行解析</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        reader.onload = function (){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const buffer = reader.result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const bytes = new Uint8Array(buffer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const length = bytes.byteLength</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let binary = &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for(let i = 0; i &lt; length; i++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                binary += String.fromCharCode(bytes[i])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const XLSX = require(&#x27;xlsx&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const wb = XLSX.read(binary,{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                type:&#x27;binary&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           this.outdata = XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let messageSession = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                isExists:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                message:&#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const arr = [...this.outdata]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(!arr.length)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return this.$message.error(&#x27;上传文件无数据，请确认文件数据后上传&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for(let [index,item] of arr.entries()){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(!item.hasOwnProperty(&#x27;姓名&#x27;)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    messageSession.isExists = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    messageSession.message = `您上传文件第${index+2}行姓名不存在，请修改后上传`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    break</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if (messageSession.isExists){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                this.$message.error(messageSession.message)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //文件流下载</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const downloadFile = function(path,name){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const xhr = new XMLHttpRequest()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        xhr.open(&#x27;get&#x27;,path)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        xhr.responseType = &#x27;blob&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        xhr.send()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        xhr.onload = function(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(this.status === 200 || this.status === 304){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(&#x27;msSaveOrOpenBlob&#x27; in navigator){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    navigator.msSaveOrOpenBlob(this.response,name)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                const url = URL.createObjectURL(this.response)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                const a = document.createElement(&#x27;a&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                a.style.display = &#x27;none&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                a.href = url;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                a.download = name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                document.body.appendChild(a)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                a.click()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                document.body.removeChild(a)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                URL.revokeObjectURL(url)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//驳回出输入框</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 驳回</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rejectBtn(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let list = this.xxxx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.$prompt(&#x27;请输入驳回意见&#x27;,&#x27;提示&#x27;,{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    confirmButtonText:&#x27;确定&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cancelButtonText:&#x27;取消&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputPattern:/^[\s\S]*.*[^\s][\s\S]*$/,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputErrorMessage:&#x27;驳回意见不能为空&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputPlaceholder:&quot;最大输入100个字符&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputValidator:this.checkReject,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputType:&#x27;textarea&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }).then(({value})=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    list[0].xxx = value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.sureReject(list[0]) //驳回方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }).catch(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.$message({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        type:&#x27;info&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        message:&#x27;取消输入&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.$refs.multipleTable.clearSelection()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//预览 后端url并返回id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pdfPreview(row){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.$http.get(xxxx,{responseType:&#x27;blob&#x27;}).then((res)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const pdfFile = window.URL.createObjectURL(new Blob([res.data],{type:&#x27;application/pdf&#x27;}))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        window.open(pdfFile + &#x27;#toolbar = 0&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        URL.revokeObjectURL(pdfFile)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exportPreview(row){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(!row.id) return this.$message.warning(&#x27;请上传文件后保存&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(row.fileName.includes(&#x27;.png&#x27;) || row.fileName.includes(&#x27;.jpg&#x27;)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const imgWindow = window.open(&quot;&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        imgWindow &amp;&amp; imgWindow.document.write(`&lt;image src=&#x27;${XXXXX}+row.id&#x27; style=&#x27;display:flex;margin:0 auto&#x27; /&gt;`)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else if(row.fileName.includes(&#x27;.pdf&#x27;)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.$http.get(xxxx+row.id,{responseType:&#x27;blob&#x27;}).then((res)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const pdfFile = window.URL.createObjectURL(new Blob([res.ata],{type:&#x27;application/pdf;base64&#x27;}))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            window.open(pdfFile+&#x27;#toolbar=0&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            URL.revokeObjectURL(pdfFile)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.$message.waring(&#x27;暂无法预览&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">form表单上传默认上传在network中显示type为document类型无法找到返回值，需要改成formData来传可以接收到后端返回的数据</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/笔记">笔记</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/随笔">随笔</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/2023/02/13/code">code</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-13T00:00:00.000Z" itemprop="datePublished">2023年2月13日</time> · <!-- -->阅读需 4 分钟</div></header><div class="markdown" itemprop="articleBody"><p>网页概述
万维网创始人 蒂姆伯纳斯李</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //leetCode输出有效括号</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let generateParenthesis = function(n){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const list = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        backtracking(n,lits,0,0,&quot;&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function backtracking(n,result,left,right,str){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //右边括号数量大于左边，表示无效括号组合</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(right &gt; left) return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //左右两边括号数量相等</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(left == n &amp;&amp; right == n){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            result.push(str)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //左边少了，则左边加1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(left &lt; n){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            backtracking(n,result,left+1,right,str+&quot;(&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //右边少了，则右边加1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(right&lt; left){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            backtracking(n,result,left,right+1,str+&quot;)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //LeetCode四数之和</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 给你一个由n个整数组成的数组nums,和一个目标值target。请你找出并返回满足下述全部条件且不重复的四元组[nums[a],nums[b],nums[c],nums[d]](若两个元祖元素一一对应，则认为两个四元组重复)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 0&lt;= a,b,c,d &lt; n  a、b、c和d互不相同 nums[a] + nums[b] + nums[c] + nums[d] == target  可以按任意顺序返回答案</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 示例1 输入 nums = [1,0,-1,0,-2,2] target = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //       输出 [[-2,-1,1,2],[-2,0,0,2],[-1,0,0,1]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let fourSum = function(nums,target){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const len = nums.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(len &lt; 4) return []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nums.sort((a,b) =&gt; a- b)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const res = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(let i = 0;i&lt;len - 3;i++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //去重i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(i &gt; 0 &amp;&amp; nums[i] === nums[i - 1]) continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            for(let j = i + 1; j &lt; len -2; j++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                //去重j</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(j &gt; i + 1 &amp;&amp; nums[j] === nums[j -1]) continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                let l = j + 1 ,r = len - 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while(l &lt; r){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    const sum = nums[i] + nums[j] + nums[l] + nums[r]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(sum &lt; target){l++; continue}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(sum &gt; target) {r--; continue}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    res.push([nums[i],nums[j],nums[l],nums[r]])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    while(l &lt; r &amp;&amp; nums[l] === nums[++l])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    while(l &lt; r &amp;&amp; nums[r] === nums[--r])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return res</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function fourSum(nums:number[],target:number):number[][]{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        nums.sort((a,b)=&gt;a-b)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let first: number = 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            second: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            third: number,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            fourth: number</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let length: number = nums.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let resArr: number[][]=[]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(first;first&lt; length;first++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(fist &gt; 0 &amp;&amp; nums[first] === nums[first - 1]){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for(second = first + 1;second &lt; length; second++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if((second - first) &gt; 1 &amp;&amp; nums[second] === nums[second -1]){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                continue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                third = second + 1;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                fourth = length - 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                while(third &lt; fourth){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    let total:number = nums[first] + nums[second] + nums[third] + nums[fourth]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    if(total === target){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        resArr.push([nums[first],nums[second],nums[third],nums[fourth]])</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        third++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        fourth--;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        while(nums[third] === nums[third - 1]) third++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        while(nums[fourth] === nums[fourth + 1]) fourth --</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    } else if(total &lt; target){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        third++</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    } else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        fourth--</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return resArr;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//vue-router重写</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const originPush = VueRouter.prototype.push</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const originReplace = VueRouter.prototype.replace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VueRouter.prototype.push = function(location,resolve,reject)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if(resolve === undefined &amp;&amp; reject === undefined){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return originPush.call(this,location).catch(()=&gt;{})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return originPush.call(this,location,resolve,reject)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">VueRouter.prototype.replace = function(location,onComplete=()=&gt;{},onAbort=()=&gt;{}){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return originReplace.call(this,location).then(onComplete).catch(onAbort)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">可见框 + 边框  + 边距 = 包含块的宽度</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">如果垂直方向存在一个等式？</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//@lc code = start [739]每日温度</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var dailyTemperatures = function (temperatures){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const stack = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const res = new Array(temperatures.length).fill(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    for(let i=0;i&lt;temperatures.length;i++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(stack.length &gt; 0 &amp;&amp; temperatures[i]&gt;temperatures[stack[stack.length -1]]){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            res[stark[stark.length - 1]] = i - stack[stack.length - 1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            stack.pop()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stack.push(i)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return res</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const temperatures = [73,74,75,71,69,72,76,73]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">console.log(dailyTemperatures(temperatures))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//实际开发中设计图都是像素为单位px 将设计图转换成页面是单位是vw 750px = 100vw  1px = 100/750vw  html font-size:0.13vw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//两小数相加</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">addNum(num1,num2){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let sql1,sql2,m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sql1 = num1.toString().split(&quot;.&quot;)[1].length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }catch(e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sql1 = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    try{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sql2 = num2.toString().split(&#x27;.&#x27;)[1].length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }catch(e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sql2 = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Math.pow(a,b) 是a的b次方</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    m = Math.pow(10,Math.max(sql1,sql2))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return (num1 * m + num2 * m) / m</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/December29">oldcode</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-29T00:00:00.000Z" itemprop="datePublished">2022年12月29日</time> · <!-- -->阅读需 15 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //1.单行文本溢出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    overflow: hidden;            // 溢出隐藏</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text-overflow: ellipsis;      // 溢出用省略号显示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    white-space: nowrap;         // 规定段落中的文本不进行换行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //2.多行文本溢出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    overflow: hidden;            // 溢出隐藏</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    text-overflow: ellipsis;     // 溢出用省略号显示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -webkit-line-clamp:3;        // 显示的行数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    display:-webkit-box;         // 作为弹性伸缩盒子模型显示。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    -webkit-box-orient:vertical; // 设置伸缩盒子的子元素排列方式：从上到下垂直排列</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //根据年份计算总周数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getNumOfWeeks(years){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //设置为这一年开始日期</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var startDateOfYear = new Date(years,0,1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //计算这一年有多少天</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var daysOfYear = ((year % 4 == 0 &amp;&amp; year % 100 !=0) || year % 400 === 0) ? 366 : 365</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //366(365) / 7 = 52.2(52.1),所以一般一年有52周余一天或者两天，当这一年有366天时且第一天是周日，那么最后一天是周一，这一年就是54周</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var weekNum = 53</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //当年份是闰年且第一天是周日时有54周</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (startDateOfYear.getDay() == 0 &amp;&amp; daysOfYear == 366){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            weekNum = 54</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return weekNum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //根据上周日获取这周日的日期范围</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getDateRange(lastSunday) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(lastSunday == null || lastSunday == &#x27;&#x27;){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var beginDate = new Date(lastSunday.setDate(lastSunday.getDate() + 1))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var endDate = new Date(lastSunday.setDate(lastSunday.getDate() + 6))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return &#x27;(&#x27;+ getNowFormatDate(beginData)+ &#x27;)-&#x27; + &#x27;(&#x27;+getNowFormatDate(endDate)+&#x27;)&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //时间转换成字符串</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getNowFormatDate(date){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var Month = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var Day = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        var CurrentStr=&#x27;&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //初始化时间</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Month = date.getMonth() + 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Day = date.getDate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(Month &gt;= 10){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentStr += Month + &#x27;月&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentStr += &#x27;0&#x27;+Month +&#x27;月&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(Day &gt;= 10){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentStr += Day + &#x27;日&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            CurrentStr += &#x27;0&#x27; + Day + &#x27;日&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return CurrentStr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  let copyList = [] as any</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        stationList.value.forEach((item: any) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          copyList.push(item.stationNumber)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const input = document.createElement(&#x27;input&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        input.value = copyList.toString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.body.appendChild(input)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        input.select()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.execCommand(&#x27;copy&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        document.body.removeChild(input)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ElNotification({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          message: &#x27;复制成功&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          type: &#x27;success&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //值得研究的代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      const reader = new FileReader();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      reader.readAsArrayBuffer(this.files); //上传文件的文件信息 file.raw</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      reader.onload = function () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const buffer = reader.result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const bytes = new Uint8Array(buffer);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const length = bytes.byteLength;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let binary = &quot;&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (let i = 0; i &lt; length; i++) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          binary += String.fromCharCode(bytes[i]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const XLSX = require(&quot;xlsx&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const wb = XLSX.read(binary, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          type: &quot;binary&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self.outdata = XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         const arr = [...self.outdata];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // for (let [index, item] of arr.entries()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;姓名&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行姓名不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;性别&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行性别不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;岗位名称&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行岗位名称不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;职位&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行职位不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;JG&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行JG不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;登录名称/用户名&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行用户名不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;密码&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行密码不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;权限/角色&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行权限不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;创建时间&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行创建时间不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;人员状态&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行人员状态不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;工龄 &quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行工龄不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;一级部门&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行一级部门不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;电话&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行电话不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;开户名&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行开户名不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;开户行&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行开户行不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;银行账户&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行银行账户不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;信箱&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行信箱不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;身份证号&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行身份证号不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;紧急联系人&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行紧急联系人不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;紧急联系人电话&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行紧急联系人电话不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //不知道为啥不好使了</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                // arr.every((item, index) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   console.log(!item.hasOwnProperty(&quot;姓名&quot;), &quot;11111111111111&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;姓名&quot;) || !item[&quot;姓名&quot;]) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行姓名不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;性别&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行性别不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;岗位名称&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行岗位名称不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;职务&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行职务不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;级别&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行级别不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;登录名称/用户名&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行登录名称/用户名不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;密码&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行密码不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;权限/角色&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行权限/角色不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;创建时间&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行创建时间不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;人员状态&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行人员状态不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;工龄&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行工龄不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;一级部门&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行一级部门不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;电话&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行电话不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;开户名&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行开户名不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;开户行&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行开户行不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;银行账户&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行银行账户不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;信箱&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行信箱不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;身份证号&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行身份证号不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;紧急联系人&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行紧急联系人不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (!item.hasOwnProperty(&quot;紧急联系人电话&quot;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行紧急联系人电话不存在,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   if (</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     !Number(item[&quot;登录名称/用户名&quot;]) &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     !Number(item[&quot;员工号&quot;]) &amp;&amp;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     item[&quot;登录名称/用户名&quot;].toUpperCase() !=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       item[&quot;员工号&quot;].toUpperCase()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   ) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.isExists = true;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     messageSession.message = `您上传文件第${</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //       index + 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     }行登录名称/用户名与员工号不一致,请修改后上传`;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //     return false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // });</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//在el-input写入这段代码是校验只能输入数字和不能小于或者大于多少还有小数点后两位</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">oninput=&quot;if(isNaN(value)){value = null}{value=value.replace(/[^1-9999999.]/g,&#x27;&#x27;)} if(value.indexOf(&#x27;.&#x27;)&gt;0{value=value.slice(0.value.indexOf(&#x27;.&#x27;)+3)}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// new关键字</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const isComplexDataType = obj =&gt;(typeof obj === &#x27;object&#x27; || typeof obj === &#x27;function&#x27;) &amp;&amp; obj !== null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const selfNew = function(fn, ...rest){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> let instance = Object.create(fn.prototype)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> let res = fn.apply(instance, rest)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> return isComplexDataType(res) ? res : instance</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实现函数call方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const selfCall = function(context, ...args){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let func = this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context || (context = window)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if(typeof func !== &#x27;function&#x27;) throw new TypeError(&#x27;this is no function&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let calls = Symbol(&#x27;caller&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">context[caller] = func</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">let res = context[caller](...args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">delete context[caller]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return res</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//手写promise,柯里化,双向绑定原理,防抖节流</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// TS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// readonly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实现Readonly,接收一个泛型参数，并返回一个完全一样的类型,只是所有属性都会被readonly所修饰</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type MyReadonly&lt;T&gt; = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    readonly [P in keyof T]:T[P]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">interface Todo {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title:string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description:string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const todoObj:MyReadonly&lt;Todo&gt;={</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    title:&#x27;Hey&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description:&#x27;foobar&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// first-of-array</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实现First,他接受一个数组T并返回它的一个元素类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type First&lt;T extends any[]&gt; = T extends [] ? never : T[0]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type arr1 = [&#x27;a&#x27;,&#x27;b&#x27;,&#x27;c&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type arr2 = [3,2,1]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type head1 = First&lt;arr1&gt; // expected to be &#x27;a&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//IF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//实现一个IF类型，它接收一个条件类型C,一个判断为真时的返回类型T,以及一个判断为假时返回了类型F。C只能是true或者false,T和F可以是任意类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type IF&lt;C extends boolean,T,F&gt; = C extends true ? T : F</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type A = IF&lt;true,&quot;a&quot;,&quot;b&quot;&gt; //expected to be &#x27;a&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type B = IF&lt;false,&#x27;a&#x27;,&#x27;b&#x27;&gt; //expected to be &#x27;b&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Concat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Concat&lt;T extends any[],U extends any[]&gt; = [...T, ...U]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type ResultConcat = Concat&lt;[1],[2]&gt;//expected to be [1,2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Include 实现Array.includes 方法，这个类型接收两个参数，返回的类型要么是true要么是false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Includes&lt;T extends readonly any[],U&gt; = U extends T[number]?true:false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type isPilarMen = Includes&lt;[&#x27;Kars&#x27;,&#x27;xxx&#x27;],&#x27;Esidisi&#x27;&gt; // expected to be false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实现通用的Array.push</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Push&lt;T extends readonly unknown[],U&gt; = [...T,U]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Resulted = Push&lt;[1,2],&#x27;3&#x27;&gt;//[1,2,&#x27;3&#x27;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Unshift</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 实现类型Array.unshift</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type Unshift&lt;T extends readonly unknow[],U&gt; = [U,...T]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">type UnshiftList = Unshift&lt;[1,2],0&gt; //[0,1,2]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //如何实现动态适配echarts容器宽高</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const el = ref(null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const {width,height} = useElementSize(el)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //然后再监听相关变化，适时地调用chart.resize()方法即可：</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    watchEffect(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(width.value &amp;&amp; height.value){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emits(&#x27;resize&#x27;,{width:width.value,height:height.value})</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            chartRef.value?resize()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//定义一个防抖函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> function debounce(fn,delay){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let timer = null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //返回事件绑定函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return function(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // fn this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let context = this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // fn 参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let args = arguments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // 清除定时器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        clearTimeout(timer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        timer = setTimeout(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            fn.apply(context,args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },delay)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> function throttle(fn,delay){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let timer = null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return function(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let context = this</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let args = arguments</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!time){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            timer = setTimeout(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                fn(context,args)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                timer = null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            },delay)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //保留2位小数不四舍五入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    formatDecimal(num,decimal = 2){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        num = num.toString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let index = num.indexOf(&quot;.&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(index !== -1){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            num = num.substring(0,decimal + index + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            num = num.substring(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return Number(parseFloat(num).toFixed(decimal))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //事件戳转日期</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    formatDate(date){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let date = new Date(date)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let YY = date.getFullYear() + &quot;-&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let MM = date.getMonth()+ 1 &lt; 10? &#x27;0&#x27; + date.getMonth() + 1 :date.getMonth() + 1 + &#x27;-&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let DD = date.getDate() &lt; 10? &#x27;0&#x27; + date.getDate() : date.getDate()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return YY + MM + DD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/css">css</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/january-01">January01</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/December23">code</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-23T00:00:00.000Z" itemprop="datePublished">2022年12月23日</time> · <!-- -->阅读需 1 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //后端返回流后可以预览pdf和图片</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        exportPreview(row){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         if(!row.id)return this.$message.warning(&#x27;请上传文件保存后操作&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       if(row.fileName.includes(&#x27;.png&#x27;) || row.fileName.includes(&#x27;.jpg&#x27;)) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const imgWindow = window.open(&quot;&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            imgWindow &amp;&amp; imgWindow.document.write(`&lt;image src=url style=&#x27;display: flex; margin: 0 auto&#x27;/&gt;`);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       }else if (row.fileName.includes(&#x27;.pdf&#x27;) ) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          this.$http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        .get(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          url,{responseType:&quot;blob&quot;}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         .then((responseProcess) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          const pdfFile = window.URL.createObjectURL(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Blob([responseProcess.data], { type: &quot;application/pdf;base64&quot; })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          window.open(pdfFile + &quot;#toolbar=0&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          URL.revokeObjectURL(pdfFile)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        this.$message.warning(&#x27;暂无法预览&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   //element-ui 中的确认框 输入文字信息 $prompt配置项</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   this.$prompt(&#x27;请&#x27;,&#x27;提示&#x27;,{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    confirmButton:&#x27;确定&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cancelButtonText:&#x27;取消&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    closeOnClickModal:false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputType:&#x27;textarea&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputValidator:&#x27;&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputErrorMessage:&#x27;驳回意见不能为空&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputPlaceholder:&#x27;最多输入100个字符&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inputPattern:/^[\s\S]*.*[^\s][\s\S]*$/,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type:&#x27;warning&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }).then(({value})=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     object.xxx = value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     //函数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }).catch(()=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    this.$message({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type:&#x27;info&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      message:&#x27;取消输入&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/周五">周五</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/image">image</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/vue-2">vue2</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/December09">el-table</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-09T00:00:00.000Z" itemprop="datePublished">2022年12月9日</time> · <!-- -->阅读需 2 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    // 有返回值得称作表达式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //el-table 有一个合计功能可以自定义也可以指定属性 在el-table中show-summary :summary-method=&quot;getSummaries&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;el-table</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        show-summary</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        :summary-method=&quot;getSummaries&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;el-table-column type=&quot;selection&quot; width=&quot;80&quot; /&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;!-- 动态日期 --&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;template v-if=&quot;&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;el-table-column</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            :prop=&quot;item.month_value&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            :label=&quot;item.month_value&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            v-for=&quot;item in monthList&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            width=&quot;150&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;template slot-scope=&quot;scope&quot;&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;el-input</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    style=&quot;display:inline-block;width:75%&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    size=&quot;mini&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    v-model=&quot;scope.row[scope.column.property]&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    @input=&quot;inputChange($event,scope.$index)&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    :readonly=&quot;readonly&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    :disabled=&quot;disabled&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    placeholder=&quot;请输入百分比&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;span&gt;%&lt;/span&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &lt;/el-input&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &lt;/el-table-column&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/template&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;/el-table&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//保留小数点后两位补0.00的格式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    toDecimal2(x){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let f = Math.round(x * 100) /100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let s = f.toString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let rs = s.indexOf(&#x27;.&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(rs &lt; 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            rs = s.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            s += &#x27;.&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(s.length &lt;= rs + 2){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            s += &#x27;0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">//保留两位小数不四舍五入</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    formatDecimal(num,decimal){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        num = num.toString()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let index = num.indexOf(&#x27;.&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(index !== -1) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            num = num.substring(0, decimal + index + 1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        } else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            num = num.substring(0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return num</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    getSummaries(param) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let tailTotalList = [] //接收后端返回的参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const { columns, data } = param</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const sums = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let totalNumber = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let totalPrice = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let inx = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        let tailTotal = {}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        columns.forEach((colum,index,arr) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(index === 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                sum[index] = &#x27;合计（元）&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(index === 3) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                totalPrice = data.map((item)=&gt;Number(item[column.property]))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(!totalPrice.every((value)=&gt;isNaN(value))){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    sums[index] = totalPrice.reduce((prev,current)=&gt;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        const value = Number(current)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        if(!isNaN(value)){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            return prev + current</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            return prev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    },0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    sums[index] = 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                tailTotal.totalPrice = sums[index]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            } else if(index &lt; 4) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                sums[index] = &#x27;--&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(tailTotalList.length != 0){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            tailTotal.id = tailTotalList[0].id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        projectBudgetBaseList = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        projectBudgetBaseList.push(tailTotal)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return sums</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    computed:{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        updateInfo:function(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let self = this;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let bo = false;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let i = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            self.item.forEach(function(e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                bo = bo || e.update;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(e.status &gt; i) i = e.status</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(bo) return 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else return i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/周五">周五</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/table">table</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/vue-2">vue2</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/blog/December08">sofaraway</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-12-08T00:00:00.000Z" itemprop="datePublished">2022年12月8日</time> · <!-- -->阅读需 2 分钟</div></header><div class="markdown" itemprop="articleBody"><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    //echarts 配置项 写下来</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //1.  title: 图表的标题</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //2.  legend: 图例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //3.  graphic: 自定义图像or文本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //4.  toolbox: 右上图标操作</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //5.  visualMap: 视觉映射</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //6.  tooltip: 提示弹框</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //7.  yAxis: y轴</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //8.  xAxis: x轴</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //9.  series: 图标系列</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //10. timeline: 时间轴</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //11. dataZoom: 区域缩放</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-//算法有效括号的问题 codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-//算法有效括号的问题 codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   //输出 true or false example:i: s=&#x27;{}&#x27; o: true  i : s=&#x27;( ]&#x27; o : false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   //method 1 </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const isValid = (s) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        while(true){ //无限循环</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            let len = s.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            s = s.replace(&#x27;{}&#x27;, &#x27;&#x27;).replace(&#x27;[]&#x27;,&#x27;&#x27;).replace(&#x27;()&#x27;,&#x27;&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            //输出true的情况为s匹配完后长度为0，</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(s.length === len){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return len === 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //method 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    const isValid = (s) =&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //空字符串符合条件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if(!s){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            return true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const leftToRight = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;(&#x27;:&#x27;)&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;[&#x27;:&#x27;]&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &#x27;{&#x27;:&#x27;}&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        const stack = []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        for (let i = 0, len = s.length; i &lt; len; i++){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            const ch = s[i]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            if(leftToRight[ch]){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                stack.push(ch)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }else{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                if(!stack.length || leftToRight[stack.pop()] !== ch){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    return false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return !stack.length</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>标签：</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/so-far-away">so far away</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="博文列表分页导航"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/page/2"><div class="pagination-nav__label">较旧的博文</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 lhhtml5.github.io, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d33e12a5.js"></script>
<script src="/assets/js/main.034e9962.js"></script>
</body>
</html>